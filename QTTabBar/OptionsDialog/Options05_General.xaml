<?xml version="1.0" encoding="UTF-8"?>
<!--
    This file is part of QTTabBar, a shell extension for Microsoft
    Windows Explorer.
    Copyright (C) 2007-2010  Quizo, Paul Accisano

    QTTabBar is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    QTTabBar is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with QTTabBar.  If not, see <http://www.gnu.org/licenses/>.
-->

<qt:OptionsDialogTab
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:qt="clr-namespace:QTTabBarLib"
    x:Class="QTTabBarLib.Options05_General"
    x:ClassModifier="internal"
    DataContext="{Binding Path=WorkingConfig.misc, RelativeSource={RelativeSource Self}}">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="OptionsDialogResources.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <StackPanel
        Margin="14,5,10,0"
        Orientation="Vertical">
        <StackPanel
            Margin="0,0,0,4"
            Orientation="Horizontal">
            <Image
                Source="{Binding Source={x:Static qt:Resources_Image.imgTabMisc}, Converter={StaticResource BitmapToImageSourceConverter}}"
                Style="{StaticResource PageHeaderImageStyle}"/>
            <Label
                Content="General options for QTTabBar's behavoir"
                FontSize="13"
                VerticalAlignment="Bottom"/>
        </StackPanel>
        <Label
            Content="Taskbar integration"
            Style="{StaticResource SectionHeaderStyle}"/>
        <CheckBox x:Name="chkTaskbarThumbnails"
            Content="Show tab previews on the Taskbar"
            IsChecked="{Binding Path=TaskbarThumbnails}"
            Style="{StaticResource CheckStyle}"/>
        <Label
            Content="History"
            Style="{StaticResource SectionHeaderStyle}"/>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <CheckBox x:Name="chkKeepHistory"
                Content="Keep history of closed tabs"
                Grid.Column="0"
                IsChecked="{Binding Path=KeepHistory}"
                Height="16"
                Margin="13,1,10,1"/>
            <CheckBox x:Name="chkKeepRecentFiles"
                Content="Keep history of opened files"
                Grid.Row="1"
                IsChecked="{Binding Path=KeepRecentFiles}"
                Height="16"
                Margin="13,1,10,1"/>
            <qt:Spinner
                Grid.Column="1"
                Min="0"
                Max="50"
                Value="{Binding Path=TabHistoryCount}"/>
            <qt:Spinner 
                Grid.Column="1"
                Grid.Row="1"
                Min="1"
                Max="50"
                Value="{Binding Path=FileHistoryCount}" />
            <Button x:Name="btnRecentTabsClear"
                Click="btnRecentTabsClear_Click"
                Content="Clear now"
                IsEnabled="{Binding Path=HaveRecentTabs}"
                Grid.Column="2"
                Height="23"
                Margin="5,2"
                Width="75"/>
            <Button x:Name="btnRecentFilesClear"
                Click="btnRecentFilesClear_Click"
                Content="Clear now"
                IsEnabled="{Binding Path=HaveRecentFiles}"
                Grid.Column="2"
                Grid.Row="1"
                Height="23"
                Margin="5,2"
                Width="75"/>
        </Grid>
        <Label
            Content="Network"
            Style="{StaticResource SectionHeaderStyle}"/>
        <StackPanel
            Orientation="Horizontal">
            <Label
                Content="Network timeout (Enter 0 for system default):"
                Height="16"
                Margin="13,1,10,1"
                Padding="0"/>
            <qt:Spinner
                Height="23"
                Min="0"
                Max="120"
                Margin="5,2"
                Value="{Binding Path=NetworkTimeout}"/>
        </StackPanel>
        <StackPanel
            Orientation="Horizontal">
            <CheckBox x:Name="chkAutoUpdate"
                Content="Check for updates periodically"
                IsChecked="{Binding Path=AutoUpdate}"
                Style="{StaticResource CheckStyle}"/>
            <Button x:Name="btnUpdateNow"
                Click="btnUpdateNow_Click"
                Content="Check now"
                Height="23"
                Margin="5,2"
                Width="75"/>
        </StackPanel>
        <Label
            Content="Settings Location"
            Style="{StaticResource SectionHeaderStyle}"/>
        <qt:RadioButtonEx x:Name="radUseIniFileNo"
            Content="Store settings in the Windows Registry"
            IsCheckedReal="{Binding Path=UseIniFile, Converter={StaticResource BoolInverterConverter}}"
            Style="{StaticResource CheckStyle}"/>
        <qt:RadioButtonEx x:Name="radUseIniFileYes"
            Content="Store settings in a .ini file"
            IsCheckedReal="{Binding Path=UseIniFile}"
            Style="{StaticResource CheckStyle}"/>
        <StackPanel
            Orientation="Horizontal">
            <Button
                Content="Export Settings..."
                Height="23"
                Margin="13,2,5,2"
                Width="120"/>
            <Button
                Content="Import Settings..."
                Height="23"
                Margin="5,2"
                Width="120"/>
        </StackPanel>
    </StackPanel>
</qt:OptionsDialogTab>
